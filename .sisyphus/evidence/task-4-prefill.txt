						// If the prefill had text content, inject a synthetic user message
						if len(prefillTexts) > 0 {
							prefill := strings.Join(prefillTexts, "")
							syntheticUser := `{"role":"user","parts":[]}`
							partJSON := `{}`
							partJSON, _ = sjson.Set(partJSON, "text", "Continue from: "+prefill)
							syntheticUser, _ = sjson.SetRaw(syntheticUser, "parts.-1", partJSON)
							rawJSON, _ = sjson.SetRawBytes(rawJSON, "request.contents.-1", []byte(syntheticUser))
						}
					}
				}
			}
		}
	}
	toolsResult := gjson.GetBytes(rawJSON, "request.tools")
	if toolsResult.Exists() && toolsResult.IsArray() {
